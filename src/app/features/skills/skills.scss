.skills-constellation {
  width: 100vw;
  height: 90vh;
  display: flex;
  flex-direction: column;
  position: relative;
  background: linear-gradient(180deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
  color: var(--text);
  overflow: hidden;
}

/* CRT Vignette on entire constellation */
.skills-constellation::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(ellipse at center, transparent 0%, rgba(0, 0, 0, 0.25) 100%);
  pointer-events: none;
  z-index: 10;
}

.constellation-title {
  position: absolute;
  top: var(--spacing-lg);
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  font-size: 2.5rem;
  color: var(--neon-cyan);
  text-shadow: 0 0 20px var(--neon-cyan);
  margin-bottom: var(--spacing-lg);
  font-family: var(--font-display);
}

.night-sky {
  flex: 1;
  width: 100%;
  height: 100%;
  position: relative;
  background: radial-gradient(ellipse at center, #0f0f23 0%, #000000 70%);
  border-radius: 0;
  overflow: hidden;
  box-shadow: none;
}

/* Star field background - Group 1 */
.night-sky::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  background: white;
  pointer-events: none;
  z-index: 0;
  box-shadow: 
    5vw 3vh 0px 1px rgba(255,255,255,1),
    20vw 5vh 0px 1px rgba(255,255,255,1),
    40vw 7vh 0px 1px rgba(255,255,255,1),
    25vw 18vh 0px 1px rgba(255,255,255,1),
    10vw 30vh 0px 1px rgba(255,255,255,1),
    5vw 40vh 0px 1px rgba(255,255,255,1),
    30vw 40vh 0px 1px rgba(255,255,255,1),
    15vw 45vh 0px 1px rgba(255,255,255,1),
    35vw 45vh 0px 1px rgba(255,255,255,1),
    10vw 55vh 0px 1px rgba(255,255,255,1),
    60vw 10vh 0px 1px rgba(255,255,255,1),
    80vw 20vh 0px 1px rgba(255,255,255,1),
    85vw 60vh 0px 1px rgba(255,255,255,1),
    95vw 55vh 0px 1px rgba(255,255,255,1),
    3vw 50vh 0px 1px rgba(255,255,255,1),
    42vw 60vh 0px 1px rgba(255,255,255,1),
    82vw 45vh 0px 1px rgba(255,255,255,1);
  animation: twinkle-stars-1 3s ease-in-out infinite;
}

/* Star field background - Group 2 */
.stars-group-2 {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  background: white;
  pointer-events: none;
  z-index: 0;
  box-shadow: 
    12vw 8vh 0px 2px rgba(255,255,255,0.9),
    30vw 12vh 0px 2px rgba(255,255,255,0.8),
    15vw 20vh 0px 1px rgba(255,255,255,0.9),
    35vw 25vh 0px 2px rgba(255,255,255,0.9),
    45vw 15vh 0px 2px rgba(255,255,255,0.8),
    20vw 35vh 0px 1px rgba(255,255,255,0.9),
    40vw 30vh 0px 2px rgba(255,255,255,0.9),
    25vw 50vh 0px 2px rgba(255,255,255,0.9),
    45vw 40vh 0px 1px rgba(255,255,255,0.8),
    50vw 20vh 0px 2px rgba(255,255,255,0.9),
    70vw 30vh 0px 2px rgba(255,255,255,0.9),
    65vw 50vh 0px 1px rgba(255,255,255,0.9),
    75vw 40vh 0px 2px rgba(255,255,255,1),
    55vw 70vh 0px 2px rgba(255,255,255,0.9),
    90vw 35vh 0px 1px rgba(255,255,255,0.8),
    52vw 5vh 0px 1px rgba(255,255,255,0.9),
    72vw 65vh 0px 2px rgba(255,255,255,1),
    62vw 35vh 0px 2px rgba(255,255,255,0.9);
  animation: twinkle-stars-2 4s ease-in-out infinite 0.8s;
}

/* Star field background - Group 3 */
.stars-group-3 {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  background: white;
  pointer-events: none;
  z-index: 0;
  box-shadow: 
    8vw 12vh 0px 1px rgba(255,255,255,0.9),
    18vw 22vh 0px 2px rgba(255,255,255,1),
    28vw 32vh 0px 1px rgba(255,255,255,0.9),
    38vw 42vh 0px 2px rgba(255,255,255,1),
    48vw 52vh 0px 1px rgba(255,255,255,0.9),
    58vw 62vh 0px 2px rgba(255,255,255,1),
    68vw 72vh 0px 1px rgba(255,255,255,0.9),
    78vw 82vh 0px 2px rgba(255,255,255,1),
    88vw 15vh 0px 1px rgba(255,255,255,0.9),
    92vw 25vh 0px 2px rgba(255,255,255,1),
    17vw 75vh 0px 1px rgba(255,255,255,0.9),
    13vw 55vh 0px 1px rgba(255,255,255,0.9),
    33vw 15vh 0px 2px rgba(255,255,255,1),
    53vw 78vh 0px 1px rgba(255,255,255,0.9);
  animation: twinkle-stars-3 3.5s ease-in-out infinite 1.6s;
}

/* Comets */
.comet {
  position: absolute;
  width: 3px;
  height: 3px;
  background: white;
  border-radius: 50%;
  opacity: 0;
  pointer-events: none;
  z-index: 1;
  box-shadow: 0 0 4px 1px rgba(255, 255, 255, 0.8);
  
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    right: 0;
    width: 100px;
    height: 2px;
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 1) 0%,
      rgba(255, 255, 255, 0.8) 60%,
      rgba(255, 255, 255, 0) 100%
    );
    transform: translate(0, -50%) rotate(-45deg);
    transform-origin: left center;
  }
}

.comet-1 {
  top: 10%;
  right: -10%;
  animation: shooting-star-1 25s linear infinite;
}

.comet-2 {
  top: 30%;
  right: -10%;
  animation: shooting-star-2 35s linear infinite 15s;
}

.comet-3 {
  top: 60%;
  right: -10%;
  animation: shooting-star-3 30s linear infinite 28s;
}

.comet-4 {
  top: 20%;
  right: -10%;
  animation: shooting-star-4 40s linear infinite 42s;
}

.comet-5 {
  top: 80%;
  right: -10%;
  animation: shooting-star-5 32s linear infinite 55s;
}

/* CRT Scanline Sweep Effect */
.night-sky::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    transparent 50%,
    rgba(0, 255, 65, 0.03) 50%
  );
  background-size: 100% 4px;
  animation: scanline 0.1s linear infinite;
  pointer-events: none;
  z-index: 2;
}

.connections {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2;
}

.connection-line {
  stroke: var(--neon-cyan);
  stroke-width: 0.5;
  opacity: 0.6;
  animation: pulse 3s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.8; }
}

@keyframes twinkle-stars-1 {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

@keyframes twinkle-stars-2 {
  0%, 100% { opacity: 0.85; }
  35% { opacity: 0.6; }
  70% { opacity: 1; }
}

@keyframes twinkle-stars-3 {
  0%, 100% { opacity: 0.75; }
  25% { opacity: 1; }
  60% { opacity: 0.65; }
}

@keyframes shooting-star-1 {
  0% {
    transform: translate(0, 0);
    opacity: 0;
  }
  5% {
    opacity: 1;
  }
  100% {
    transform: translate(-120vw, 60vh);
    opacity: 0;
  }
}

@keyframes shooting-star-2 {
  0% {
    transform: translate(0, 0);
    opacity: 0;
  }
  8% {
    opacity: 1;
  }
  100% {
    transform: translate(-110vw, 55vh);
    opacity: 0;
  }
}

@keyframes shooting-star-3 {
  0% {
    transform: translate(0, 0);
    opacity: 0;
  }
  6% {
    opacity: 1;
  }
  100% {
    transform: translate(-115vw, 50vh);
    opacity: 0;
  }
}

@keyframes shooting-star-4 {
  0% {
    transform: translate(0, 0);
    opacity: 0;
  }
  4% {
    opacity: 1;
  }
  100% {
    transform: translate(-125vw, 65vh);
    opacity: 0;
  }
}

@keyframes shooting-star-5 {
  0% {
    transform: translate(0, 0);
    opacity: 0;
  }
  7% {
    opacity: 1;
  }
  100% {
    transform: translate(-118vw, 58vh);
    opacity: 0;
  }
}

@keyframes progress-shine {
  0%, 100% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(1.3);
  }
}

.skill-star {
  position: absolute;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  cursor: pointer;
  z-index: 3;
  transition: transform 0.3s ease;

  &:hover {
    transform: translate(-50%, -50%) scale(1.5);
  }

  .star-glow {
    width: 100%;
    height: 100%;
    border-radius: 0;
    clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
    animation: twinkle 2s ease-in-out infinite;
  }

  .skill-progress-bar {
    position: absolute;
    top: -80px;
    left: 50%;
    transform: translateX(-50%);
    min-width: 280px;
    max-width: 320px;
    background: rgba(0, 0, 0, 0.95);
    border: 1px solid var(--neon-green);
    border-radius: 0;
    padding: 10px 12px;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    white-space: nowrap;
    box-shadow: 0 0 10px rgba(0, 255, 65, 0.2);
    font-family: 'Courier New', monospace;
  }

  .progress-container {
    position: relative;
    width: 100%;
    height: 16px;
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid rgba(0, 255, 65, 0.3);
    border-radius: 0;
    overflow: hidden;
    display: flex;
    align-items: center;
    margin-bottom: 8px;
  }

  .progress-fill {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background: var(--neon-green);
    border-radius: 0;
    box-shadow: none;
    animation: terminal-blink 1.5s ease-in-out infinite;
    
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.1) 2px,
        rgba(0, 0, 0, 0.1) 4px
      );
    }
  }

  .progress-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--neon-green);
    font-size: 0.75rem;
    font-weight: bold;
    font-family: 'Courier New', monospace;
    text-shadow: 0 0 3px var(--neon-green);
    z-index: 1;
    letter-spacing: 1px;
  }

  .skill-description {
    color: var(--neon-green);
    font-size: 0.65rem;
    line-height: 1.3;
    font-family: 'Courier New', monospace;
    text-align: justify;
    white-space: normal;
    word-wrap: break-word;
    max-height: 80px;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--neon-green) rgba(0, 0, 0, 0.5);
    
    &::-webkit-scrollbar {
      width: 4px;
    }
    
    &::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.5);
    }
    
    &::-webkit-scrollbar-thumb {
      background: var(--neon-green);
      border-radius: 0;
    }
  }

  &:hover .skill-progress-bar {
    opacity: 1;
  }

  &:hover .progress-fill {
    animation: progress-fill-animation 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards, terminal-blink 1.5s ease-in-out infinite;
  }

  @keyframes progress-fill-animation {
    from {
      width: 0;
    }
  }

  @keyframes terminal-blink {
    0%, 100% { 
      opacity: 0.9;
    }
    50% { 
      opacity: 1;
    }
  }

  .skill-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 70%;
    height: 70%;
    object-fit: contain;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    border-radius: 4px;
    filter: brightness(1.1) contrast(1.2) drop-shadow(0 0 2px rgba(0, 0, 0, 0.5));
  }

  .skill-icon-emoji {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 1.5em;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }

  &:hover .skill-icon,
  &:hover .skill-icon-emoji {
    opacity: 1;
  }
}

@keyframes twinkle {
  0%, 100% { opacity: 0.7; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.2); }
}

.skill-star.frontend .star-glow {
  background: radial-gradient(circle, var(--neon-cyan) 0%, transparent 70%);
}

.skill-star.backend .star-glow {
  background: radial-gradient(circle, var(--neon-green) 0%, transparent 70%);
}

.skill-star.tools .star-glow {
  background: radial-gradient(circle, var(--neon-purple) 0%, transparent 70%);
}

.legend {
  position: absolute;
  bottom: var(--spacing-lg);
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  display: flex;
  gap: var(--spacing-md);
}

.legend-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  font-size: 1.1rem;
  color: var(--text);
}

.legend-color {
  width: 20px;
  height: 20px;
  border-radius: 50%;

  &.frontend {
    background: var(--neon-cyan);
    box-shadow: 0 0 10px var(--neon-cyan);
  }

  &.backend {
    background: var(--neon-green);
    box-shadow: 0 0 10px var(--neon-green);
  }

  &.tools {
    background: var(--neon-purple);
    box-shadow: 0 0 10px var(--neon-purple);
  }
}

@keyframes scanline {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}

/* ISS - International Space Station */
.iss {
  position: absolute;
  top: 15%;
  left: 10%;
  width: 60px;
  height: 60px;
  z-index: 3;
  opacity: 0.9;
  pointer-events: none;
  
  img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 0 8px #00d4ff);
  }
  
  animation: iss-orbit 60s linear infinite;
}

@keyframes iss-orbit {
  0% {
    left: 5%;
    top: 12%;
    opacity: 0;
  }
  5% {
    opacity: 0.9;
  }
  50% {
    left: 70%;
    top: 25%;
    opacity: 0.9;
  }
  95% {
    opacity: 0;
  }
  100% {
    left: 90%;
    top: 35%;
    opacity: 0;
  }
}

/* Astronaut */
.astronaut {
  position: absolute;
  top: 40%;
  right: 15%;
  width: 70px;
  height: 70px;
  z-index: 3;
  pointer-events: none;
  
  img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.8));
  }
  
  animation: astronaut-float 15s ease-in-out infinite;
}

@keyframes astronaut-float {
  0%, 100% {
    transform: translateY(0px) rotate(0deg);
    opacity: 0.7;
  }
  25% {
    transform: translateY(-30px) rotate(5deg);
    opacity: 0.9;
  }
  50% {
    transform: translateY(-50px) rotate(-2deg);
    opacity: 0.9;
  }
  75% {
    transform: translateY(-20px) rotate(3deg);
    opacity: 0.8;
  }
}

/* Xenomorph */
.xenomorph {
  position: absolute;
  bottom: 20%;
  right: 8%;
  width: 65px;
  height: 65px;
  z-index: 4;
  pointer-events: none;
  
  img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 0 10px rgba(0, 255, 0, 0.6));
  }
  
  animation: xenomorph-lurk 12s ease-in-out infinite;
}

@keyframes xenomorph-lurk {
  0%, 100% {
    transform: translateX(0);
    opacity: 0.6;
  }
  25% {
    transform: translateX(20px);
    opacity: 0.7;
  }
  50% {
    transform: translateX(40px);
    opacity: 0.8;
  }
  75% {
    transform: translateX(20px);
    opacity: 0.65;
  }
}

/* SDF-1 - Super Dimension Fortress */
.sdf1 {
  position: absolute;
  top: 25%;
  right: 5%;
  width: 120px;
  height: 80px;
  z-index: 3;
  opacity: 0.8;
  pointer-events: none;
  
  img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 0 12px rgba(255, 165, 0, 0.8));
  }
  
  animation: sdf1-flight 45s linear infinite;
}

@keyframes sdf1-flight {
  0% {
    right: -15%;
    top: 35%;
    opacity: 0;
    transform: scale(0.8);
  }
  10% {
    opacity: 0.8;
    transform: scale(1);
  }
  50% {
    right: 50%;
    top: 25%;
    opacity: 0.8;
    transform: scale(1.1) rotate(-2deg);
  }
  90% {
    opacity: 0.8;
    transform: scale(1);
  }
  100% {
    right: 110%;
    top: 20%;
    opacity: 0;
    transform: scale(0.9);
  }
}

/* Predator stalking */
.predator {
  position: absolute;
  bottom: 15%;
  left: 20%;
  width: 80px;
  height: 80px;
  z-index: 4;
  pointer-events: none;
  
  img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 0 8px rgba(255, 69, 0, 0.7));
  }
  
  animation: predator-stalk 20s ease-in-out infinite;
}

@keyframes predator-stalk {
  0%, 100% {
    transform: translateY(0);
    opacity: 0.4;
    filter: brightness(0.7);
  }
  15% {
    transform: translateY(-10px);
    opacity: 0.6;
    filter: brightness(0.9);
  }
  30% {
    transform: translateY(-20px);
    opacity: 0.8;
    filter: brightness(1.1);
  }
  45% {
    transform: translateY(-15px);
    opacity: 0.7;
    filter: brightness(1.0);
  }
  60% {
    transform: translateY(-25px);
    opacity: 0.9;
    filter: brightness(1.2);
  }
  75% {
    transform: translateY(-10px);
    opacity: 0.6;
    filter: brightness(0.9);
  }
}