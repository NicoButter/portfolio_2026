<section class="skills-constellation">
  <h2 class="constellation-title">Skill Constellation</h2>
  <div class="night-sky">
    <svg class="connections" viewBox="0 0 100 100" preserveAspectRatio="none">
      @for (skill of skills(); track skill.name; let i = $index) {
        @for (conn of skill.connections; track conn) {
          <line
            [attr.x1]="skill.x"
            [attr.y1]="skill.y"
            [attr.x2]="skills()[conn].x"
            [attr.y2]="skills()[conn].y"
            class="connection-line"
          />
        }
      }
    </svg>
    @for (skill of skills(); track skill.name; let i = $index) {
      <div
        class="skill-star"
        [style.left.%]="skill.x"
        [style.top.%]="skill.y"
        [style.width.px]="getSize(skill)"
        [style.height.px]="getSize(skill)"
        [style.box-shadow]="getGlowStyle(skill)"
        [title]="skill.name + ': ' + skill.level + '%'"
        [class]="skill.category.toLowerCase()"
      >
        <div class="star-glow"></div>
        <span class="skill-percentage">{{ skill.level }}%</span>
        <span class="skill-icon">{{ getIcon(skill) }}</span>
      </div>
    }
  </div>
  <div class="legend">
    <div class="legend-item">
      <span class="legend-color frontend"></span> Frontend
    </div>
    <div class="legend-item">
      <span class="legend-color backend"></span> Backend
    </div>
    <div class="legend-item">
      <span class="legend-color tools"></span> Tools
    </div>
  </div>
</section>
